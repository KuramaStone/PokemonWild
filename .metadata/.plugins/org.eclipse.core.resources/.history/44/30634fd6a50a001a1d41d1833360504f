package me.brook.PokemonWild.graphics;

import java.awt.image.BufferedImage;
import java.io.File;
import java.util.ArrayList;
import java.util.List;

import javax.imageio.ImageIO;

public class Recorder {
	
	private static final File parent = new File("C:\\Users\\Stone\\PokemonWild\\recording");
	
	private List<BufferedImage> images;
	
	public Recorder() {
		images = new ArrayList<>();
	}
	
	public void saveImages() {
		File parent = new File(Recorder.parent, String.valueOf(Recorder.parent.listFiles().length));
		
		if(!parent.exists()) {
			parent.mkdirs();
		}
		
		int i = 0;
		for(BufferedImage image : images) {
			try {
				ImageIO.write(image, "png", new File(parent, i++ + ".png"));
			}
			catch (Exception e) {
				e.printStackTrace();
			}
		}
		
		images.clear();
	}

	public void addImage(BufferedImage buffer) {
		images.add(buffer);
	}

}
